<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trimble Dashboard - Injection dans Trimble Connect</title>
  
  <!-- Trimble Connect Workspace API (CDN) -->
  <script src="https://components.connect.trimble.com/trimble-connect-workspace-api/index.js"></script>
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  
  <style>
    /* Reset minimal */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #F8F9FA;
      padding: 20px;
    }
    
    /* Container principal */
    #dashboard-container {
      max-width: 1400px;
      margin: 0 auto;
    }
    
    /* Header */
    .dashboard-header {
      background: linear-gradient(135deg, #005F9E 0%, #00A3E0 100%);
      color: white;
      padding: 20px 30px;
      border-radius: 8px 8px 0 0;
      margin-bottom: 0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .dashboard-header h1 {
      font-size: 28px;
      font-weight: 500;
      margin: 0;
    }
    
    .dashboard-header p {
      margin: 5px 0 0 0;
      opacity: 0.9;
      font-size: 14px;
    }
    
    /* Loader initial */
    #initial-loader {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 400px;
      flex-direction: column;
      background: white;
      border-radius: 0 0 8px 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .loader-spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #005F9E;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .loader-text {
      margin-top: 20px;
      color: #005F9E;
      font-size: 16px;
      font-weight: 500;
    }
    
    /* Instructions */
    .instructions {
      background: #FFF3CD;
      border: 1px solid #FFC107;
      border-radius: 8px;
      padding: 15px 20px;
      margin-bottom: 20px;
    }
    
    .instructions h3 {
      color: #856404;
      margin: 0 0 10px 0;
      font-size: 18px;
    }
    
    .instructions ol {
      margin: 0;
      padding-left: 20px;
      color: #856404;
    }
    
    .instructions li {
      margin: 5px 0;
    }
    
    .instructions code {
      background: white;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
    }
  </style>
</head>
<body>
  <div id="dashboard-container">
    <!-- Instructions -->
    <div class="instructions">
      <h3>ðŸ“‹ Instructions d'utilisation</h3>
      <ol>
        <li>Ouvrez <strong>Trimble Connect For Browser</strong>: <a href="https://app.connect.trimble.com/" target="_blank">app.connect.trimble.com</a></li>
        <li>Connectez-vous et ouvrez un projet</li>
        <li>Ouvrez la console dÃ©veloppeur (<code>F12</code>)</li>
        <li>Dans l'onglet <strong>Console</strong>, exÃ©cutez le code d'injection ci-dessous</li>
        <li>Le dashboard s'affichera directement dans Trimble Connect</li>
      </ol>
    </div>
    
    <!-- Header -->
    <div class="dashboard-header">
      <h1>ðŸ“Š Trimble Dashboard</h1>
      <p>Vue d'ensemble de votre projet Trimble Connect</p>
    </div>
    
    <!-- Conteneur principal de l'application -->
    <div id="app">
      <!-- Loader initial pendant le chargement -->
      <div id="initial-loader">
        <div class="loader-spinner"></div>
        <p class="loader-text">Connexion Ã  Trimble Connect...</p>
      </div>
    </div>
  </div>
  
  <!-- Script principal (gÃ©nÃ©rÃ© par Webpack) -->
  <script src="https://simontrim.github.io/trimble-dashboard/dist/index.js"></script>
  
  <script>
    // Log pour confirmer le chargement
    console.log('%cðŸš€ Dashboard Trimble Connect chargÃ©!', 'color: #005F9E; font-size: 16px; font-weight: bold;');
    console.log('%cVersion: 1.0.0', 'color: #00A3E0;');
    console.log('%cURL: https://simontrim.github.io/trimble-dashboard/', 'color: #00A3E0;');
  </script>
</body>
</html>
